{"version":3,"sources":["webpack:///link.js","webpack:///webpack/bootstrap 4df097c60ce5323c3473","webpack:///./src/link.js","webpack:///./src/seed.js","webpack:///./src/factory.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","global","_interopRequireDefault","obj","__esModule","default","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","_createClass","defineProperties","target","props","i","length","descriptor","defineProperty","key","protoProps","staticProps","_seed","_seed2","_factory","_factory2","ClassLink","_Seed","this","_this","getPrototypeOf","VERSION","version","Seed","_class","_opt","_context","arguments","_id","tag","selObj","index","objectList","hasTag","push","_relation","undefined","parent","check","_obj","addTo","_r","tags","children","forEach","elem","destroy","Link","window","newTag","isExist","find","item","_has","element","splice","breakLink","_this2","getOwnPropertyNames","Factory","idIndex","_classParam","Error","_o","idBuild","create_time_stamp","Date","getTime","boot"],"mappings":"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","file":"link.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n\n\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(global) {'use strict';\n\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\n\tvar _seed = __webpack_require__(1);\n\n\tvar _seed2 = _interopRequireDefault(_seed);\n\n\tvar _factory = __webpack_require__(2);\n\n\tvar _factory2 = _interopRequireDefault(_factory);\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\tvar ClassLink = function (_Seed) {\n\t\t_inherits(ClassLink, _Seed);\n\n\t\tfunction ClassLink() {\n\t\t\t_classCallCheck(this, ClassLink);\n\n\t\t\tvar _this = _possibleConstructorReturn(this, Object.getPrototypeOf(ClassLink).call(this));\n\n\t\t\t_this.VERSION = _this.version = '1.0.2';\n\t\t\t_this.Seed = _seed2.default;\n\t\t\treturn _this;\n\t\t}\n\n\t\t_createClass(ClassLink, [{\n\t\t\tkey: 'create',\n\t\t\tvalue: function create(_class, _opt, _context) {\n\n\t\t\t\tif (arguments.length == 2 && _opt._id) {\n\t\t\t\t\t_context = _opt;\n\t\t\t\t\t_opt = {};\n\t\t\t\t}\n\n\t\t\t\treturn _factory2.default.create(_class, _opt, _context);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'find',\n\t\t\tvalue: function find(tag) {\n\t\t\t\tvar selObj = [];\n\t\t\t\tfor (var index in _factory2.default.objectList) {\n\t\t\t\t\tif (_factory2.default.objectList[index].hasTag(tag)) {\n\t\t\t\t\t\tselObj.push(_factory2.default.objectList[index]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn selObj;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'getObjectList',\n\t\t\tvalue: function getObjectList() {\n\t\t\t\treturn _factory2.default.objectList;\n\t\t\t}\n\n\t\t\t//获取所有对象的关系，返回一个对象形态\n\n\t\t}, {\n\t\t\tkey: 'getObjectRelation',\n\t\t\tvalue: function getObjectRelation() {\n\t\t\t\tvar _relation = {};\n\t\t\t\t_relation['root'] = [];\n\t\t\t\t//思路:遍历所有根对象，并且对根对象的children进行遍历，直到无children\n\t\t\t\t//步骤1：找出根对象\n\t\t\t\tfor (var index in _factory2.default.objectList) {\n\t\t\t\t\t//不是factory & 无parent\n\t\t\t\t\tif (_factory2.default.objectList[index]._id !== 0 && _factory2.default.objectList[index].parent === undefined) {\n\t\t\t\t\t\t(function () {\n\t\t\t\t\t\t\t//将跟对象丢进root里\n\t\t\t\t\t\t\t//步骤2：遍历children\n\t\t\t\t\t\t\tvar check = function check(_obj, addTo) {\n\t\t\t\t\t\t\t\tvar _r = {\n\t\t\t\t\t\t\t\t\tid: _obj._id,\n\t\t\t\t\t\t\t\t\ttags: _obj.tags,\n\t\t\t\t\t\t\t\t\tchildren: []\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\taddTo.push(_r);\n\t\t\t\t\t\t\t\t_obj.children.forEach(function (elem) {\n\t\t\t\t\t\t\t\t\tcheck(elem, _r.children);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tcheck(_factory2.default.objectList[index], _relation['root']);\n\t\t\t\t\t\t})();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn _relation;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'destroy',\n\t\t\tvalue: function destroy(_obj) {\n\t\t\t\t_factory2.default.destroy(_obj);\n\t\t\t}\n\t\t}]);\n\n\t\treturn ClassLink;\n\t}(_seed2.default);\n\n\t//创建全局对象\n\n\n\tif (global) {\n\t\t//说明是node\n\t\tif (!global.Link) global.Link = new ClassLink();\n\t} else if (window) {\n\t\tif (!window.Link) window.Link = new ClassLink();\n\t}\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\tvar Seed = function () {\n\t    function Seed() {\n\t        _classCallCheck(this, Seed);\n\n\t        this.tags = [];\n\t        this.children = [];\n\t        this.parent = undefined;\n\t        this.newTag('seed');\n\t    }\n\n\t    _createClass(Seed, [{\n\t        key: 'boot',\n\t        value: function boot() {}\n\t    }, {\n\t        key: 'newTag',\n\t        value: function newTag(tag) {\n\t            var isExist = false;\n\t            this.tags.find(function (item) {\n\t                if (item === tag) {\n\t                    isExist = true;\n\t                }\n\t            });\n\t            if (!isExist) this.tags.push(tag);\n\t        }\n\t    }, {\n\t        key: 'hasTag',\n\t        value: function hasTag(tag) {\n\t            var _has = false;\n\t            this.tags.find(function (item) {\n\t                if (item === tag) {\n\t                    _has = true;\n\t                }\n\t            });\n\t            return _has;\n\t        }\n\t        /*\r\n\t        中断一个父子对象的关系，一旦中断，双向都中断,\r\n\t        注意 中断并非销毁，\r\n\t        */\n\n\t    }, {\n\t        key: 'breakLink',\n\t        value: function breakLink(_obj) {\n\t            var _this = this;\n\n\t            //先判断子对象\n\t            this.children.forEach(function (element, index) {\n\t                if (element == _obj) {\n\t                    _this.children.splice(index, 1);\n\t                    element.parent = undefined;\n\t                }\n\t            });\n\t            //再判断父对象\n\t            //检测该对象是否为父对象，如果是父对象，也可中断\n\t            if (this.parent == _obj) {\n\t                this.parent = undefined;\n\t                _obj.breakLink(this);\n\t            }\n\t        }\n\t    }, {\n\t        key: 'destroy',\n\t        value: function destroy() {\n\t            var _this2 = this;\n\n\t            Object.getOwnPropertyNames(this).forEach(function (index) {\n\t                delete _this2[index];\n\t            });\n\t        }\n\t    }]);\n\n\t    return Seed;\n\t}();\n\n\texports.default = Seed;\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\n\tvar _seed = __webpack_require__(1);\n\n\tvar _seed2 = _interopRequireDefault(_seed);\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\tvar Factory = function (_Seed) {\n\t    _inherits(Factory, _Seed);\n\n\t    function Factory() {\n\t        _classCallCheck(this, Factory);\n\n\t        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Factory).call(this));\n\n\t        _this.objectList = {};\n\t        _this.objectList['link_obj_0'] = _this;\n\t        _this._id = 0;\n\t        _this.idIndex = 0; //0转让给工厂自身\n\t        _this.newTag('factory');\n\t        return _this;\n\t    }\n\n\t    _createClass(Factory, [{\n\t        key: 'create',\n\t        value: function create(_class, _classParam, _context) {\n\n\t            if (!_classParam) _classParam = {};\n\n\t            if (!_class) {\n\t                throw new Error('create undefind Class!');\n\t            } else {\n\t                //创建一个实例\n\t                var _o = new _class(_classParam);\n\t                _o['_id'] = this.idBuild();\n\t                this.objectList['link_obj_' + _o._id] = _o;\n\t                if (_context) {\n\t                    //告知父节点\n\t                    _o.parent = _context;\n\t                    //为父节点增加节点\n\t                    _context.children.push(_o);\n\t                }\n\t                _o.create_time_stamp = new Date().getTime();\n\t                _o.boot();\n\t            }\n\t            return _o;\n\t        }\n\t    }, {\n\t        key: 'idBuild',\n\t        value: function idBuild() {\n\t            this.idIndex++;\n\t            return this.idIndex;\n\t        }\n\t    }, {\n\t        key: 'destroy',\n\t        value: function destroy(_obj) {\n\n\t            //步骤1、遍历child，进行销毁\n\t            while (_obj.children.length > 0) {\n\t                Link.destroy(_obj.children[_obj.children.length - 1]);\n\t            }\n\t            // _obj.children.forEach(function(item){\n\t            //     Link.destroy(item);\n\t            // });\n\t            //步骤2、将自己从父元素的children删除\n\t            if (_obj.parent) {\n\t                _obj.breakLink(_obj.parent);\n\t            }\n\n\t            //步骤3、从factory.objectList里删除\n\t            delete this.objectList['link_obj_' + _obj._id];\n\n\t            _obj.destroy();\n\t        }\n\t    }]);\n\n\t    return Factory;\n\t}(_seed2.default);\n\n\texports.default = new Factory();\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** link.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 4df097c60ce5323c3473\n **/","\r\nimport Seed from './seed';\r\nimport factory from './factory';\r\nclass ClassLink extends Seed {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.VERSION = this.version = '1.0.2';\r\n\t\tthis.Seed = Seed;\r\n\t}\r\n\tcreate(_class, _opt, _context) {\r\n\t\t\r\n\t\tif((arguments.length==2)&&(_opt._id)){\r\n\t\t\t\t\t_context = _opt;\r\n\t\t\t\t_opt = {};\r\n\t\t}\r\n\t\t\r\n\t\treturn factory.create(_class, _opt, _context);\r\n\t}\r\n\tfind(tag) {\r\n\t\tlet selObj = [];\r\n\t\tfor (let index in factory.objectList) {\r\n\t\t\tif (factory.objectList[index].hasTag(tag)) {\r\n\t\t\t\tselObj.push(factory.objectList[index]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn selObj;\r\n\t}\r\n\tgetObjectList() {\r\n\t\treturn factory.objectList;\r\n\t}\r\n\t\r\n\r\n\t//获取所有对象的关系，返回一个对象形态\r\n\tgetObjectRelation(){\r\n\t\tlet _relation = {};\r\n\t\t_relation['root'] = [];\r\n\t\t//思路:遍历所有根对象，并且对根对象的children进行遍历，直到无children\r\n\t\t//步骤1：找出根对象\r\n\t\tfor(let index in factory.objectList){\r\n\t\t\t//不是factory & 无parent\r\n\t\t\tif((factory.objectList[index]._id !== 0) && (factory.objectList[index].parent === undefined)){\r\n\t\t\t\t//将跟对象丢进root里\r\n\t\t\t\t//步骤2：遍历children\r\n\t\t\t\tlet check = function(_obj,addTo){\r\n\t\t\t\t\tlet _r = {\r\n\t\t\t\t\t\tid:_obj._id,\r\n\t\t\t\t\t\ttags:_obj.tags,\r\n\t\t\t\t\t\tchildren:[],\r\n\t\t\t\t\t}\r\n\t\t\t\t\taddTo.push(_r);\r\n\t\t\t\t\t_obj.children.forEach(function(elem){\r\n\t\t\t\t\t\tcheck(elem, _r.children);\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\tcheck(factory.objectList[index], _relation['root']);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn _relation;\r\n\t\t\r\n\t}\r\n\tdestroy(_obj) {\r\n\t\tfactory.destroy(_obj);\r\n\t}\r\n}\r\n\r\n//创建全局对象\r\nif (global) {//说明是node\r\n\tif(!global.Link)global.Link = new ClassLink();\r\n} else if (window) {\r\n\tif(!window.Link)window.Link = new ClassLink();\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/link.js\n **/","class Seed{\r\n    constructor() {\r\n        this.tags = [];\r\n        this.children = [];\r\n        this.parent = undefined;\r\n        this.newTag('seed');\r\n    }\r\n    boot(){\r\n    }\r\n    newTag(tag){\r\n        let isExist = false;\r\n        this.tags.find( (item)=>{\r\n            if(item === tag){\r\n                isExist = true;\r\n            }\r\n        });\r\n        if(!isExist)this.tags.push(tag);\r\n    }\r\n    hasTag(tag){\r\n        let _has = false;\r\n        this.tags.find( (item)=>{\r\n            if(item === tag){\r\n                _has = true;\r\n            }\r\n        });\r\n        return _has;\r\n    }\r\n    /*\r\n    中断一个父子对象的关系，一旦中断，双向都中断,\r\n    注意 中断并非销毁，\r\n    */\r\n    breakLink(_obj){\r\n        //先判断子对象\r\n        this.children.forEach((element, index)=>{\r\n            if (element == _obj) {\r\n                this.children.splice(index, 1);\r\n                element.parent = undefined;\r\n            }\r\n        })\r\n        //再判断父对象\r\n        //检测该对象是否为父对象，如果是父对象，也可中断\r\n        if (this.parent == _obj) {\r\n            this.parent = undefined;\r\n            _obj.breakLink(this);\r\n        }\r\n    }\r\n    destroy(){\r\n        Object.getOwnPropertyNames(this).forEach((index)=>{\r\n            delete this[index];\r\n        })\r\n    }\r\n}\r\nexport default Seed;\n\n\n/** WEBPACK FOOTER **\n ** ./src/seed.js\n **/","\r\n\r\nimport Seed from './seed';\r\n\r\nclass Factory extends Seed{\r\n    constructor(){\r\n        super();\r\n        this.objectList = {};\r\n        this.objectList['link_obj_0'] = this;\r\n        this._id = 0;\r\n        this.idIndex = 0;//0转让给工厂自身\r\n        this.newTag('factory');\r\n    }\r\n    create(_class, _classParam, _context){\r\n\r\n        if(!_classParam)_classParam = {};\r\n\r\n        if(!_class){\r\n            throw new Error('create undefind Class!');\r\n        }else{\r\n            //创建一个实例\r\n            var  _o = new _class(_classParam);\r\n            _o['_id'] = this.idBuild();\r\n            this.objectList['link_obj_' + _o._id] = _o;\r\n            if(_context){\r\n                //告知父节点\r\n                _o.parent=_context;\r\n                //为父节点增加节点\r\n                _context.children.push(_o);\r\n            }\r\n            _o.create_time_stamp = new Date().getTime();\r\n            _o.boot();\r\n        }\r\n        return _o;\r\n    }\r\n    idBuild(){\r\n        this.idIndex++;\r\n        return this.idIndex;\r\n    }\r\n    destroy(_obj){\r\n        \r\n        //步骤1、遍历child，进行销毁\r\n        while (_obj.children.length > 0) {\r\n            Link.destroy(_obj.children[_obj.children.length - 1]);\r\n        }\r\n        // _obj.children.forEach(function(item){\r\n        //     Link.destroy(item);\r\n        // });\r\n        //步骤2、将自己从父元素的children删除\r\n        if (_obj.parent) {\r\n            _obj.breakLink(_obj.parent);\r\n        }\r\n        \r\n        //步骤3、从factory.objectList里删除\r\n        delete this.objectList['link_obj_' + _obj._id];\r\n        \r\n        _obj.destroy();\r\n    }\r\n}\r\nexport default new Factory();\n\n\n/** WEBPACK FOOTER **\n ** ./src/factory.js\n **/"],"sourceRoot":""}